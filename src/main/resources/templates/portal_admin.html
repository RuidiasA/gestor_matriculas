<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Portal Admin</title>
    <link rel="stylesheet" href="/css/admin/portal_admin.css">
    <script type="module" src="/js/admin/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<div class="admin-layout">
    <!-- ASIDE LEFT -->
    <aside class="aside-left">
        <div class="aside-left__container">
            <div class="logo"></div>
            <nav class="admin-nav">
                <a href="#" class="active" data-section="cursos">Cursos</a>
                <a href="#" data-section="secciones">Secciones</a>
                <a href="#" data-section="alumnos">Alumnos</a>
                <a href="#" data-section="docentes">Docentes</a>
                <a href="#" data-section="solicitudes">Solicitudes <span id="badge-solicitudes" class="badge badge--pill badge--alert" hidden>0</span></a>
            </nav>
            <a class="logout" href="/logout">CERRAR SESIÓN</a>
        </div>
    </aside>
    <!-- MAIN CONTENT -->
    <main>
        <header class="page-header">
            <div class="page-header__title">
                <h1>Gestor de matrículas</h1>
                <p class="muted">Portal administrador</p>
            </div>
        </header>

        <!-- ==========================================================================================
                                                  CURSOS
        =========================================================================================== -->
        <section id="cursos" class="admin-section active" >
            <div class="admin-panel">
                <!-- PANEL IZQUIERDO: BÚSQUEDA + LISTA -->
                <div class="panel-izquierdo">

                    <!-- TARJETA UNIFICADA: BUSCAR + LISTADO -->
                    <article class="card card--buscar-cursos">

                        <!-- HEADER -->
                        <header class="card__header">
                            <h2>Buscar cursos</h2>
                        </header>

                        <!-- FORMULARIO DE BÚSQUEDA -->
                        <form id="formBusquedaCursos" class="cursos-form">

                            <div class="form-grid-cursos">
                                <label>
                                    <h4>Filtro general</h4>
                                    <input type="text" id="filtroCursoTexto" placeholder="Código, nombre...">
                                </label>

                                <label>
                                    <h4>Carrera</h4>
                                    <select id="filtroCursoCarrera">
                                        <option value="">Todas</option>
                                    </select>
                                </label>

                                <label>
                                    <h4>Ciclo</h4>
                                    <select id="filtroCursoCiclo">
                                        <option value="">Todos</option>
                                    </select>
                                </label>

                                <label>
                                    <h4>Tipo</h4>
                                    <select id="filtroCursoTipo">
                                        <option value="">Todos</option>
                                    </select>
                                </label>

                                <div class="form-actions">
                                    <button class="btn-primary" type="submit">Buscar</button>
                                    <button type="button" id="btnLimpiarCursos" class="clear-button">Limpiar</button>
                                </div>

                                <div class="btn-nuevo-curso--container">
                                    <button type="button" id="btnNuevoCurso" class="btn-secondary btn-nuevo-curso">Nuevo curso</button>
                                </div>
                            </div>
                        </form>

                        <div class="panel-divider"></div>

                        <!-- TABLA -->
                        <h3>Listado de cursos</h3>
                        <div class="table-wrapper table-wrapper--cursos">
                            <table class="admin-table" id="tablaCursos">
                                <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Nombre</th>
                                    <th>Ciclo</th>
                                    <th>Créditos</th>
                                    <th>Horas</th>
                                    <th>Modalidad</th>
                                    <th>Tipo</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr><td colspan="7" class="muted">Sin resultados</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <p id="estadoBusquedaCursos" class="muted" hidden></p>
                    </article>
                </div>


                <!-- PANEL DERECHO: DETALLE -->
                <div class="panel-derecho">
                    <!-- DATOS GENERALES -->
                    <div class="card detalle-card">
                        <div class="card-header-between">
                            <h2>Datos generales del curso</h2>
                            <div class="card-actions">
                                <button type="button" id="btnEditarCurso" class="btn-outline" disabled>Editar</button>
                                <button type="button" id="btnEliminarCurso" class="btn-danger" disabled>Eliminar</button>
                            </div>
                        </div>
                        <div class="detalle-grid">
                            <div>
                                <h3 class="detalle-label">Código</h3>
                                <p id="cursoCodigo" class="detalle-valor">Selecciona un curso</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Nombre</h3>
                                <p id="cursoNombre" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Carrera</h3>
                                <p id="cursoCarrera" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Ciclo</h3>
                                <p id="cursoCiclo" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Tipo</h3>
                                <p id="cursoTipo" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Créditos</h3>
                                <p id="cursoCreditos" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Horas semanales</h3>
                                <p id="cursoHoras" class="detalle-valor">-</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Modalidad</h3>
                                <p id="cursoModalidad" class="detalle-valor">-</p>
                            </div>
                        </div>
                        <div class="detalle-descripcion">
                            <p class="detalle-label">Descripción</p>
                            <p id="cursoDescripcion" class="detalle-valor detalle-valor--multiline">-</p>
                        </div>
                    </div>

                    <!-- PRERREQUISITOS -->
                    <div class="card detalle-card">
                        <div class="card-header-between">
                            <h2>Prerrequisitos</h2>
                            <button type="button" id="btnGuardarPrerrequisitos" class="btn-primary" disabled>Guardar cambios</button>
                        </div>
                        <div class="form-grid form-grid--compact">
                            <div class="form-field">
                                <h4 for="selectPrerrequisito">Agregar curso prerrequisito</h4>
                                <div class="inline-group">
                                    <select id="selectPrerrequisito">
                                        <option value="">Selecciona curso</option>
                                    </select>
                                    <button type="button" id="btnAgregarPrerrequisito" class="btn-secondary" disabled>Agregar</button>
                                </div>
                            </div>
                        </div>
                        <div class="tabla-wrapper tabla-wrapper--small">
                            <table class="admin-table admin-table--compact" id="tablaPrerrequisitos">
                                <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Nombre</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- prerrequisitos -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- DOCENTES DICTABLES -->
                    <div class="card detalle-card">
                        <div class="card-header-between">
                            <h2>Docentes habilitados para dictar</h2>
                            <button type="button" id="btnGuardarDocentesCurso" class="btn-primary" disabled>Guardar cambios</button>
                        </div>
                        <div class="form-grid form-grid--compact">
                            <div class="form-field">
                                <h4 for="selectDocenteCurso">Agregar docente</h4>
                                <div class="inline-group">
                                    <select id="selectDocenteCurso">
                                        <option value="">Selecciona docente</option>
                                    </select>
                                    <button type="button" id="btnAgregarDocenteCurso" class="btn-secondary" disabled>Agregar</button>
                                </div>
                            </div>
                        </div>
                        <div class="tabla-wrapper tabla-wrapper--small">
                            <table class="admin-table admin-table--compact" id="tablaDocentesCurso">
                                <thead>
                                <tr>
                                    <th>Docente</th>
                                    <th>DNI</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- docentes dictables -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==========================================================================================
                                                  SECCIONES
        =========================================================================================== -->
        <section id="secciones" class="admin-section">
            <div class="secciones-grid">

                <!-- ==============================
                         COLUMNA IZQUIERDA
                =============================== -->
                <div class="secciones-col secciones-col--left">
                    <article class="card">
                        <!-- BUSQUEDA -->
                            <div class="card-header-between">
                                <h3>Búsqueda de secciones</h3>
                                <button type="button" class="btn-primary" id="btnNuevaSeccion">Nueva sección</button>
                            </div>

                            <form id="formBusquedaSecciones" class="form-busqueda-secciones">

                                <div class="form-grid-secciones">

                                    <div class="form-field">
                                        <h4 class="label">Curso</h4>
                                        <select id="filtroCursoSeccion">
                                            <option value="">Curso...</option>
                                        </select>
                                    </div>

                                    <div class="form-field">
                                        <h4 class="label">Periodo</h4>
                                        <select id="filtroPeriodoSeccion">
                                            <option value="">Seleccione</option>
                                        </select>
                                    </div>

                                    <div class="form-field">
                                        <h4 class="label">Docente</h4>
                                        <select id="filtroDocenteSeccion">
                                            <option value="">Seleccione</option>
                                        </select>
                                    </div>

                                    <div class="form-field">
                                        <h4 class="label">Modalidad</h4>
                                        <select id="filtroModalidadSeccion">
                                            <option value="">Todas</option>
                                        </select>
                                    </div>

                                    <div class="form-field">
                                        <h4 class="label">Código de sección</h4>
                                        <input type="text" id="filtroCodigoSeccion" placeholder="A01">
                                    </div>

                                    <div class="form-actions form-actions-secciones">
                                        <button type="submit" class="btn-primary">Buscar</button>
                                        <button type="button" id="btnLimpiarSecciones" class="clear-button">Limpiar</button>
                                    </div>
                                </div>
                            </form>
                            <div class="panel-divider" ></div>
                            <!-- LISTADO -->
                            <header class="card__header">
                                <h3>Listado de secciones</h3>
                            </header>
                            <div class="table-wrapper--secciones">
                                <table class="admin-table" id="tablaSecciones">
                                    <thead>
                                    <tr>
                                        <th>Curso</th>
                                        <th>Código de sección</th>
                                        <th>Docente</th>
                                        <th>Periodo</th>
                                        <th>Modalidad</th>
                                        <th>Horario</th>
                                        <th>Aula</th>
                                        <th>Cupos / Mat.</th>
                                        <th>Estado</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr><td colspan="9" class="muted">Sin resultados</td></tr>
                                    </tbody>
                                </table>
                            </div>
                    </article>
                </div>


                <!-- ==============================
                          COLUMNA DERECHA
                =============================== -->
                <aside class="secciones-col secciones-col--right">

                    <article class="card seccion-ficha" id="fichaSeccion">
                        <header class="card__header">
                            <div>
                                <h2 id="seccionCurso">-</h2>
                                <p id="seccionCodigo">-</p>
                            </div>
                            <span class="badge" id="seccionEstado">-</span>
                        </header>
                        <div class="panel-divider"></div>
                        <div class="card__body">

                            <div class="ficha-grid">
                                <div>
                                    <p class="label">Docente</p>
                                    <p id="seccionDocente">-</p>
                                </div>
                                <div>
                                    <p class="label">Periodo</p>
                                    <p id="seccionPeriodo">-</p>
                                </div>
                                <div>
                                    <p class="label">Modalidad</p>
                                    <p id="seccionModalidad">-</p>
                                </div>
                                <div>
                                    <p class="label">Horario</p>
                                    <p id="seccionHorario">-</p>
                                </div>
                                <div>
                                    <p class="label">Aula</p>
                                    <p id="seccionAula">-</p>
                                </div>
                                <div>
                                    <p class="label">Cupos / Matriculados</p>
                                    <p id="seccionCupos">-</p>
                                </div>
                                <div>
                                    <p class="label">Créditos</p>
                                    <p id="seccionCreditos">-</p>
                                </div>
                                <div>
                                    <p class="label">Ciclo</p>
                                    <p id="seccionCiclo">-</p>
                                </div>
                                <div>
                                    <p class="label">Turno</p>
                                    <p id="seccionTurno">-</p>
                                </div>
                                <div>
                                    <p class="label">Horas semanales</p>
                                    <p id="seccionHoras">-</p>
                                </div>
                                <div>
                                    <p class="label">Cupos disponibles</p>
                                    <p id="seccionCuposDisponibles">-</p>
                                </div>
                                <div>
                                    <p class="label">Cantidad de horarios</p>
                                    <p id="seccionCantidadHorarios">-</p>
                                </div>
                                <div>
                                    <p class="label">Estado académico</p>
                                    <p id="seccionEstadoAcademico">-</p>
                                </div>
                            </div>

                            <div class="panel-divider"></div>

                            <div class="summary-grid" id="resumenDashboardSeccion">
                                <div class="summary-item">
                                    <p class="label">Matriculados actuales</p>
                                    <p id="metricMatriculados">-</p>
                                </div>
                                <div class="summary-item">
                                    <p class="label">Cupos libres</p>
                                    <p id="metricCuposLibres">-</p>
                                </div>
                                <div class="summary-item">
                                    <p class="label">Aprobados último periodo</p>
                                    <p id="metricAprobados">-</p>
                                </div>
                                <div class="summary-item">
                                    <p class="label">% Aprobación</p>
                                    <p id="metricAprobacion">-</p>
                                </div>
                                <div class="summary-item">
                                    <p class="label">Retiros</p>
                                    <p id="metricRetiros">-</p>
                                </div>
                                <div class="summary-item">
                                    <p class="label">Horarios programados</p>
                                    <p id="metricHorarios">-</p>
                                </div>
                            </div>
                            <div class="ficha-acciones">
                                <button class="btn-secondary" id="btnEditarSeccion">Editar sección</button>
                                <button class="btn-primary" id="btnGestionarHorarios">Gestionar horarios</button>
                                <button class="btn-secondary" id="btnAnularSeccion">Anular sección</button>
                            </div>

                            <div class="panel-divider"></div>

                            <!-- ESTUDIANTES MATRICULADOS -->
                            <div>
                                <article class="card-estudiantes-matriculados">
                                    <header class="card__header-right">
                                        <h3>Estudiantes</h3>

                                    </header>
                                    <div class="table-wrapper">
                                        <table class="admin-table" id="tablaEstudiantesSeccion">
                                            <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Nombre</th>
                                                <th>Estado</th>
                                                <th>Acciones</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr><td colspan="4" class="muted">Sin estudiantes</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </article>
                            </div>
                        </div>

                        <div class="panel-divider"></div>

                        <!-- HISTORIAL DE SECCIONES -->
                        <div class="secciones-historial">
                            <article class="card-historial-secciones">
                                <header class="card__header">
                                    <h3>Historial de secciones</h3>
                                    <div class="tabs">
                                        <button class="tab active" data-tab="tab-movimientos">Movimientos</button>
                                        <button class="tab" data-tab="tab-cambios">Cambios</button>
                                        <button class="tab" data-tab="tab-estadisticas">Estadísticas</button>
                                    </div>
                                </header>
                                <div class="tab-content active" id="tab-movimientos">
                                    <div class="table-wrapper">
                                        <table class="admin-table" id="tablaHistorialSeccion">
                                            <thead>
                                            <tr>
                                                <th>Periodo</th>
                                                <th>Alumno</th>
                                                <th>Estado matrícula</th>
                                                <th>Fecha</th>
                                                <th>Observación</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr><td colspan="5" class="muted">Selecciona una sección</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-content" id="tab-cambios">
                                    <div class="table-wrapper">
                                        <table class="admin-table" id="tablaCambiosSeccion">
                                            <thead>
                                            <tr>
                                                <th>Fecha</th>
                                                <th>Usuario</th>
                                                <th>Campo</th>
                                                <th>Anterior</th>
                                                <th>Nuevo</th>
                                                <th>Observación</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr><td colspan="6" class="muted">Selecciona una sección</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-content" id="tab-estadisticas">
                                    <div class="table-wrapper">
                                        <table class="admin-table" id="tablaEstadisticasSeccion">
                                            <thead>
                                            <tr>
                                                <th>Periodo</th>
                                                <th>Matriculados</th>
                                                <th>Retiros</th>
                                                <th>Aprobados</th>
                                                <th>Desaprobados</th>
                                                <th>% Aprobación</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr><td colspan="6" class="muted">Selecciona una sección</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </article>
                        </div>
                    </article>
                </aside>

                <div class="modal" id="modalNuevaSeccion" hidden>
                    <div class="modal__dialog modal__dialog--wide">
                        <header class="modal__header">
                            <h4>Nueva sección</h4>
                            <button type="button" class="modal__close" data-close="modalNuevaSeccion">×</button>
                        </header>
                        <form id="formNuevaSeccion" class="modal__form">
                            <div class="form-grid form-grid--compact">
                                <label>Curso
                                    <select id="selectCursoNuevaSeccion" required>
                                        <option value="">Selecciona curso</option>
                                    </select>
                                </label>
                                <label>Código de sección
                                    <input type="text" id="inputCodigoNuevaSeccion" maxlength="10" required>
                                </label>
                                <label>Docente
                                    <select id="selectDocenteNuevaSeccion" required>
                                        <option value="">Selecciona docente</option>
                                    </select>
                                </label>
                                <label>Periodo académico
                                    <input type="text" id="inputPeriodoNuevaSeccion" placeholder="2024-I" required>
                                </label>
                                <label>Modalidad
                                    <select id="selectModalidadNuevaSeccion" required>
                                        <option value="">Selecciona</option>
                                    </select>
                                </label>
                                <label>Turno
                                    <select id="selectTurnoNuevaSeccion" required>
                                        <option value="">Selecciona</option>
                                        <option value="DIURNO">Diurno</option>
                                        <option value="NOCTURNO">Nocturno</option>
                                    </select>
                                </label>
                                <label>Capacidad
                                    <input type="number" id="inputCapacidadNuevaSeccion" min="1" max="200" required>
                                </label>
                                <label>Aula
                                    <input type="text" id="inputAulaNuevaSeccion" maxlength="20" required>
                                </label>
                            </div>

                            <div class="panel-divider"></div>
                            <h4>Horarios</h4>
                            <div id="contenedorHorariosNuevaSeccion" class="horarios-container"></div>
                            <div class="horarios-actions">
                                <button type="button" class="btn-secondary" id="btnAgregarHorarioNuevaSeccion">+ Añadir horario</button>
                            </div>

                            <div class="modal__actions">
                                <button type="button" class="btn-secondary" data-close="modalNuevaSeccion">Cancelar</button>
                                <button type="submit" class="btn-primary">Registrar sección</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </section>

        <!-- ==========================================================================================
                                                  ALUMNOS
        =========================================================================================== -->
        <section id="alumnos" class="admin-section">
            <div class="secciones-grid">

                <!-- ==============================
                         COLUMNA IZQUIERDA
                =============================== -->
                <div class="secciones-col secciones-col--left">

                    <article class="card card-busqueda-alumnos">

                        <!-- BUSQUEDA -->
                        <header class="card__header">
                            <h2>Búsqueda de alumnos</h2>
                        </header>

                        <form id="formBusquedaAlumnos" class="form-busqueda-secciones">
                            <div class="form-grid-secciones">
                                <div class="form-field">
                                    <h4>Buscar</h4>
                                    <input id="filtroAlumno" name="filtro" type="text"
                                           placeholder="DNI, código, nombre o correo">
                                </div>
                                <div class="form-actions form-actions-secciones">
                                    <button type="submit" class="btn-primary">Buscar</button>
                                    <button type="button" id="btnLimpiarBusqueda" class="clear-button">Limpiar</button>
                                </div>
                            </div>
                        </form>

                        <div id="estadoBusqueda" class="status-message" hidden></div>

                        <div class="panel-divider"></div>

                        <!-- LISTADO -->
                        <header class="card__header">
                            <h3>Listado de alumnos</h3>
                        </header>

                        <div class="table-wrapper">
                            <table class="admin-table" id="tablaAlumnos">
                                <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Nombre completo</th>
                                    <th>DNI</th>
                                    <th>Correo institucional</th>
                                    <th>Correo personal</th>
                                    <th>Teléfono</th>
                                    <th>Año ingreso</th>
                                    <th>Ciclo actual</th>
                                    <th>Orden mérito</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="skeleton-row" aria-hidden="true">
                                    <td colspan="9">Cargando alumnos...</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                    </article>

                </div>

                <!-- ==============================
                          COLUMNA DERECHA
                =============================== -->
                <aside class="secciones-col secciones-col--right">

                    <!-- FICHA DEL ALUMNO -->
                    <article class="card ficha-alumno" id="fichaAlumno">

                        <!-- HEADER -->
                        <header class="card__header">
                            <div>
                                <h2 id="nombreAlumno">Selecciona un alumno</h2>
                                <h3 class="muted" id="codigoAlumno">-</h3>
                            </div>
                            <span class="badge" id="estadoAlumno">-</span>
                        </header>

                        <div class="panel-divider"></div>

                        <div class="card__body">

                            <!-- DATOS PERSONALES -->
                            <div class="ficha-grid">
                                <div>
                                    <h4>Carrera</h4>
                                    <p id="carreraAlumno">-</p>
                                </div>
                                <div>
                                    <h4>Ciclo actual</h4>
                                    <p id="cicloAlumno">-</p>
                                </div>
                                <div>
                                    <h4>Año de ingreso</h4>
                                    <p id="ingresoAlumno">-</p>
                                </div>
                                <div>
                                    <h4>Correo institucional</h4>
                                    <p id="correoInstitucionalAlumno">-</p>
                                </div>
                                <div>
                                    <h4>Correo personal</h4>
                                    <p id="correoPersonalAlumno">-</p>
                                </div>
                                <div>
                                    <h4>Teléfono</h4>
                                    <p id="telefonoAlumno">-</p>
                                </div>
                            </div>

                            <div class="panel-divider"></div>

                            <!-- FORMULARIO CONTACTO -->
                            <form id="formContactoAlumno" class="form-busqueda-secciones">
                                <header class="card__header">
                                    <h4>Datos de contacto</h4>
                                </header>

                                <div class="form-grid-secciones">
                                    <div class="form-field">
                                        <h4 for="correoPersonalInput" class="label">Correo personal</h4>
                                        <input type="email" id="correoPersonalInput" name="correoPersonal" disabled>
                                    </div>

                                    <div class="form-field">
                                        <h4 for="telefonoInput" class="label">Teléfono (9 dígitos)</h4>
                                        <input type="tel" id="telefonoInput" name="telefono"
                                               pattern="\d{9}" maxlength="9" disabled>
                                    </div>

                                    <div class="form-field">
                                        <h4 for="direccionInput" class="label">Dirección</h4>
                                        <input type="text" id="direccionInput" name="direccion" disabled>
                                    </div>

                                    <div class="form-actions form-actions-secciones">
                                        <button type="button" id="btnEditarContacto" class="btn-secondary">
                                            Editar contacto
                                        </button>
                                        <button type="submit" id="btnGuardarContacto"
                                                class="btn-primary" disabled>
                                            Guardar
                                        </button>
                                    </div>

                                    <p id="estadoContacto" class="status-message" hidden></p>
                                </div>
                            </form>

                            <div class="panel-divider"></div>

                            <!-- DETALLE ACADÉMICO -->
                            <article class="card-detalle-academico" id="detalleAcademico">

                                <header class="card__header">
                                    <h2>Detalle académico</h2>
                                </header>

                                <div class="summary-grid">
                                    <div class="summary-item">
                                        <p class="label">Total cursos</p>
                                        <h4 id="totalCursos">-</h4>
                                    </div>
                                    <div class="summary-item">
                                        <p class="label">Créditos</p>
                                        <h4 id="totalCreditos">-</h4>
                                    </div>
                                    <div class="summary-item">
                                        <p class="label">Horas semanales</p>
                                        <h4 id="totalHoras">-</h4>
                                    </div>
                                    <div class="summary-item">
                                        <p class="label">Matrícula</p>
                                        <h4 id="montoMatricula">-</h4>
                                    </div>
                                    <div class="summary-item">
                                        <p class="label">Pensión</p>
                                        <h4 id="montoPension">-</h4>
                                    </div>
                                    <div class="summary-item">
                                        <p class="label">Monto total</p>
                                        <h4 id="montoTotal">-</h4>
                                    </div>
                                </div>

                                <div class="table-wrapper">
                                    <table class="admin-table" id="tablaCursosMatriculados">
                                        <thead>
                                        <tr>
                                            <th>Código sección</th>
                                            <th>Curso</th>
                                            <th>Docente</th>
                                            <th>Créditos</th>
                                            <th>Horas</th>
                                            <th>Modalidad</th>
                                            <th>Aula</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="skeleton-row" aria-hidden="true">
                                            <td colspan="7">Selecciona un alumno para ver sus cursos</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="panel-divider"></div>

                                <!-- HISTORIAL -->
                                <div class="secciones-historial">
                                    <article class="card-historial-alumnos">
                                        <header class="card__header">
                                            <h3>Historial de matrículas</h3>
                                            <span class="muted" id="subtituloHistorial">-</span>
                                        </header>

                                        <div id="contenedorHistorial" class="historial__items historial__items--accordion">
                                            <p class="muted">Sin registros</p>
                                        </div>
                                    </article>
                                </div>

                            </article>

                        </div>

                    </article>

                </aside>

            </div>
        </section>

        <!-- ==========================================================================================
                                                 DOCENTES
        =========================================================================================== -->
        <section id="docentes" class="admin-section">
            <div class="docentes-grid">
                <div class="docentes-col docentes-col--left">
                    <!-- ==================  TARJETA 1  ===================== -->
                    <article class="card">
                        <div class="card-header-between">
                            <h2>Cursos que puede dictar</h2>
                            <div class="agregar-curso">
                                <select id="selectCursoDictable">
                                    <option value="">Selecciona curso</option>
                                </select>
                                <button class="btn-primary" id="btnAgregarCursoDictable" type="button">Agregar</button>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="admin-table" id="tablaCursosDictables">
                                <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Curso</th>
                                    <th>Horas semanales</th>
                                    <th>Créditos</th>
                                    <th>Ciclo</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr><td colspan="5" class="muted">Sin cursos asignados</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </article>

                    <!-- ==================  TARJETA 2  ===================== -->
                    <article class="card">
                        <header class="card__header card-header-flex-docentes">
                            <h2>Secciones asignadas actualmente</h2>
                            <span id="badgeSeccionesDocente" class="badge-count">0 secciones</span>
                        </header>

                        <div class="table-wrapper">
                            <table class="admin-table" id="tablaSeccionesDocente">
                                <thead>
                                <tr>
                                    <th>Curso</th>
                                    <th>Código Sección</th>
                                    <th>Periodo</th>
                                    <th>Modalidad</th>
                                    <th>Créditos</th>
                                    <th>Turno</th>
                                    <th>Horario</th>
                                    <th>Aula</th>
                                    <th>Estudiantes</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr><td colspan="9" class="muted">Sin secciones</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </article>

                    <!-- ==================  TARJETA 3  ===================== -->
                    <article class="card">
                        <header class="card__header">
                            <h3>Historial académico</h3>
                        </header>
                        <div class="table-wrapper">
                            <table class="admin-table" id="tablaHistorialDocente">
                                <thead>
                                <tr>
                                    <th>Año/Ciclo</th>
                                    <th>Curso</th>
                                    <th>Sección</th>
                                    <th>Modalidad</th>
                                    <th>Créditos</th>
                                    <th>Turno</th>
                                    <th>Horario</th>
                                    <th>Estudiantes finalizados</th>
                                    <th>Nota promedio</th>
                                    <th>% Aprobación</th>
                                    <th>Observaciones</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr><td colspan="11" class="muted">Sin historial</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </article>
                </div>

                <div class="docentes-col docentes-col--right">
                    <!-- ==================  TARJETA 4  ===================== -->
                    <article class="card" id="fichaDocente">
                        <header class="card__header card__header--docente">
                            <div>
                                <h2 id="docNombreCompleto">Selecciona un docente</h2>
                                <h3 class="muted" id="docCodigo">-</h3>
                            </div>
                            <span class="badge" id="docEstado">-</span>
                        </header>

                        <div class="panel-divider"></div>

                        <div class="card__body">
                            <div class="ficha-grid">
                                <div>
                                    <h4>DNI</h4>
                                    <p id="docDni">-</p>
                                </div>
                                <div>
                                    <h4>Especialidad</h4>
                                    <p id="docEspecialidad">-</p>
                                </div>
                                <div>
                                    <h4>Correo institucional</h4>
                                    <p id="docCorreoInst">-</p>
                                </div>
                                <div>
                                    <h4>Correo personal</h4>
                                    <p id="docCorreoPer">-</p>
                                </div>
                                <div>
                                    <h4>Teléfono</h4>
                                    <p id="docTelefono">-</p>
                                </div>
                                <div>
                                    <h4>Dirección</h4>
                                    <p id="docDireccion">-</p>
                                </div>
                            </div>

                            <div class="ficha-acciones">
                                <button class="btn-secondary" id="btnEditarDocente">Editar datos personales</button>
                                <button class="btn-primary" id="btnEditarContactoDocente">Editar contacto</button>
                            </div>
                        </div>
                    </article>

                    <!-- ==================  TARJETA 5  ===================== -->
                    <article class="card card--buscar-docentes">
                        <header class="card__header">
                            <h2>Buscar docentes</h2>
                        </header>
                        <form id="formBusquedaDocentes" class="docente-form">
                            <div class="form-grid">
                                <h4>Filtro general<input type="text" id="filtroDocente" placeholder="Código, DNI, nombre, correo"></h4>
                                <h4>Curso dictable
                                    <select id="filtroCursoDictable">
                                        <option value="">Todos</option>
                                    </select>
                                </h4>
                                <h4>Estado
                                    <select id="filtroEstadoDocente">
                                        <option value="">Todos</option>
                                        <option value="ACTIVO">Activo</option>
                                        <option value="INACTIVO">Inactivo</option>
                                    </select>
                                </h4>
                                <div class="form-actions">
                                    <button type="button" id="btnLimpiarDocentes" class="clear-button">Limpiar</button>
                                    <button class="btn-primary" type="submit">Buscar</button>
                                </div>
                            </div>
                        </form>

                        <div class="panel-divider"></div>


                        <!-- TABLA CON SCROLL -->
                        <h3>Listado de docentes</h3>
                        <div class="table-wrapper table-wrapper--docentes">
                            <table class="admin-table" id="tablaDocentes">
                                <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Nombre completo</th>
                                    <th>DNI</th>
                                    <th>Estado</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr><td colspan="4" class="muted">Sin resultados</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <p id="estadoBusquedaDocentes" class="muted" hidden></p>
                    </article>

                    <!-- ===============    ====  Modales  ====================== -->
                    <div class="modal modal--docente" id="modalDatosDocente" hidden>
                        <div class="modal__dialog">
                            <header class="modal__header">
                                <h4>Editar datos personales</h4>
                                <button type="button" class="modal__close" data-close="modalDatosDocente">×</button>
                            </header>
                            <form id="formDatosDocente" class="docente-form modal__form">
                                <div class="form-grid">
                                    <label>Apellidos<input type="text" id="inputDocApellidos" required></label>
                                    <label>Nombres<input type="text" id="inputDocNombres" required></label>
                                    <label>DNI<input type="text" id="inputDocDni" pattern="[0-9]{8}" required></label>
                                    <label>Especialidad<input type="text" id="inputDocEspecialidad"></label>
                                    <label>Correo institucional<input type="email" id="inputDocCorreoInst" required></label>
                                    <label>Estado
                                        <select id="inputDocEstado">
                                            <option value="ACTIVO">Activo</option>
                                            <option value="INACTIVO">Inactivo</option>
                                        </select>
                                    </label>
                                </div>
                                <div class="modal__actions">
                                    <button type="button" class="btn-secondary" data-close="modalDatosDocente">Cancelar</button>
                                    <button type="submit" class="btn-primary">Guardar</button>
                                </div>
                                <p id="estadoDatosDocente" class="muted" hidden></p>
                            </form>
                        </div>
                    </div>
                    <div class="modal modal--docente" id="modalContactoDocente" hidden>
                        <div class="modal__dialog">
                            <header class="modal__header">
                                <h4>Editar contacto</h4>
                                <button type="button" class="modal__close" data-close="modalContactoDocente">×</button>
                            </header>
                            <form id="formContactoDocente" class="docente-form modal__form">
                                <div class="form-grid">
                                    <label>Correo institucional<input type="email" id="inputDocCorreoInstContacto" required></label>
                                    <label>Correo personal<input type="email" id="inputDocCorreoPer"></label>
                                    <label>Teléfono<input type="tel" id="inputDocTelefono" pattern="[0-9]{9}"></label>
                                    <label>Dirección<input type="text" id="inputDocDireccion"></label>
                                </div>
                                <div class="modal__actions">
                                    <button type="button" class="btn-secondary" data-close="modalContactoDocente">Cancelar</button>
                                    <button type="submit" class="btn-primary">Guardar contacto</button>
                                </div>
                                <p id="estadoContactoDocente" class="muted" hidden></p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==========================================================================================
                                                 SOLICITUDES
        =========================================================================================== -->
        <section id="solicitudes" class="admin-section">
            <div class="admin-panel solicitudes-layout">
                <div class="panel-izquierdo">
                    <article class="card">
                        <header class="card__header">
                            <div>
                                <h2>Solicitudes de apertura</h2>
                            </div>
                            <div class="card__actions">
                                <button id="btnExportarSolicitudes" class="btn-outline" type="button">Exportar CSV</button>
                            </div>
                        </header>

                        <form id="formFiltroSolicitudes" class="solicitudes-filtros">

                            <div class="solicitudes-filtros__grid">
                                <label class="form-field">
                                    <h4>Curso</h4>
                                    <select id="filtroSolicitudCurso"></select>
                                </label>
                                <label class="form-field">
                                    <h4>Carrera</h4>
                                    <select id="filtroSolicitudCarrera"></select>
                                </label>
                                <label class="form-field">
                                    <h4>Ciclo</h4>
                                    <select id="filtroSolicitudCiclo"></select>
                                </label>
                                <label class="form-field">
                                    <h4>Estado</h4>
                                    <select id="filtroSolicitudEstado">
                                        <option value="">Todos</option>
                                        <option value="PENDIENTE">Pendiente</option>
                                        <option value="SOLUCIONADA">Solucionada</option>
                                        <option value="RECHAZADA">Rechazada</option>
                                    </select>
                                </label>
                                <label class="form-field">
                                    <h4>Desde</h4>
                                    <input type="date" id="filtroSolicitudDesde">
                                </label>
                                <label class="form-field">
                                    <h4>Hasta</h4>
                                    <input type="date" id="filtroSolicitudHasta">
                                </label>
                                <div class="solicitudes-filtros__actions form-actions">
                                    <button class="btn-primary" type="submit">Buscar</button>
                                    <button class="btn-outline" type="button" id="btnLimpiarSolicitudes">Limpiar</button>
                                </div>
                            </div>
                        </form>

                                <div class="table-wrapper">
                                    <table class="admin-table" id="tablaSolicitudes">
                                        <thead>
                                        <tr>
                                            <th>Curso</th>
                                            <th>Carrera</th>
                                            <th>Ciclo</th>
                                            <th>Día solicitado</th>
                                            <th>Horario</th>
                                            <th>Modalidad</th>
                                            <th>Turno</th>
                                            <th>Alumnos</th>
                                            <th>Estado</th>
                                            <th>Fecha</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tablaSolicitudesBody">
                                        <tr><td colspan="9" class="muted">Sin solicitudes</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                        <p id="estadoSolicitudes" class="muted" hidden></p>
                    </article>
                </div>

                <div class="panel-derecho">
                    <article class="card solicitud-detalle-card">
                        <header class="card__header">
                            <div>
                                <p class="eyebrow">Detalle</p>
                                <h2 id="solicitudCurso">Selecciona una solicitud</h2>
                                <p class="muted" id="solicitudEstado"></p>
                            </div>
                            <div class="chip" id="solicitudEstadoChip">—</div>
                        </header>

                        <div class="detalle-grid">
                            <div>
                                <h4 class="detalle-label">Alumno</h4>
                                <p id="solicitudAlumno" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Código</h3>
                                <p id="solicitudCodigoAlumno" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Carrera</h3>
                                <p id="solicitudCarrera" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Ciclo</h3>
                                <p id="solicitudCiclo" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Fecha</h3>
                                <p id="solicitudFecha" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Día solicitado</h3>
                                <p id="solicitudDia" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Horario solicitado</h3>
                                <p id="solicitudHorario" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Modalidad solicitada</h3>
                                <p id="solicitudModalidad" class="detalle-valor">—</p>
                            </div>
                            <div>
                                <h3 class="detalle-label">Turno solicitado</h3>
                                <p id="solicitudTurno" class="detalle-valor">—</p>
                            </div>
                        </div>

                        <div class="detalle-grid detalle-motivo">
                            <div>
                                <h3 class="detalle-label">Motivo del alumno</h3>
                                <p id="solicitudMotivo" class="detalle-valor">—</p>
                            </div>
                        </div>

                        <div class="panel-divider"></div>

                        <div class="detalle-grid detalle-grid--full">
                            <div>
                                <h3 class="detalle-label">Evidencia</h3>
                                <div class="detalle-valor">
                                    <p id="solicitudEvidenciaNombre">—</p>
                                    <button type="button" id="btnDescargarEvidencia" class="btn-outline" disabled>Descargar evidencia</button>
                                </div>
                            </div>
                        </div>

                        <div class="panel-divider"></div>

                        <div class="detalle-grid detalle-grid--full">
                            <div>
                                <h3 class="detalle-label">Mensaje del administrador</h3>
                                <textarea id="solicitudMensajeAdmin" rows="3" placeholder="Mensaje opcional"></textarea>
                            </div>
                        </div>

                        <div class="panel-divider"></div>

                        <div class="detalle-grid detalle-grid--full">
                            <div>
                                <h3 class="detalle-label">Otros alumnos solicitando este curso</h3>
                                <ul id="solicitudRelacionados" class="lista-relacionados"></ul>
                            </div>
                        </div>

                        <div class="card-actions card-actions--end">
                            <button class="btn-primary" type="button" id="btnSolucionarSolicitud" disabled>Marcar como solucionada</button>
                            <button class="btn-danger" type="button" id="btnRechazarSolicitud" disabled>Marcar como rechazada</button>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>
</div>
</body>
</html>
