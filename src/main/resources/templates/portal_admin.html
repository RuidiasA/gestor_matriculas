<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/portal_admin.css">
    <title>Portal Admin</title>
</head>
<body>
<div class="admin-layout">
    <!-- ASIDE LEFT -->
    <aside class="aside-left">
        <div class="aside-left__container">
            <div class="logo"></div>
            <nav class="admin-nav">
                <a href="#" class="active" data-section="cursos">Cursos</a>
                <a href="#" data-section="secciones">Secciones</a>
                <a href="#" data-section="alumnos">Alumnos</a>
                <a href="#" data-section="docentes">Docentes</a>
            </nav>
            <a class="logout" href="/logout">CERRAR SESI√ìN</a>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main>
        <!-- CURSOS -->
        <section id="cursos" class="admin-section active">
            <h2>Mantenimiento de Cursos</h2>
            <!-- Aqu√≠ se cargar√° din√°micamente la lista de cursos desde el backend -->
        </section>

        <!-- SECCIONES -->
        <section id="secciones" class="admin-section">
            <h2>Mantenimiento de Secciones</h2>
        </section>

        <!-- ALUMNOS -->
        <section id="alumnos" class="admin-section">
            <div class="section-header">
                <div>
                    <p class="subtitle">Portal Administrador / Gesti√≥n de Alumnos</p>
                    <h2>Alumnos</h2>
                </div>
                <div class="section-actions">
                    <button id="btnRefrescarAlumnos" class="btn-outline">Refrescar</button>
                </div>
            </div>

            <div class="panel-grid">
                <article class="panel shadow">
                    <h3>B√∫squeda de alumnos</h3>
                    <form id="formBusquedaAlumnos" class="search-form">
                        <div class="form-field">
                            <label for="filtroAlumno">DNI, c√≥digo, nombre o correo</label>
                            <input id="filtroAlumno" name="filtro" type="text" placeholder="Ej. 74589632 o Juan P√©rez">
                        </div>
                        <div class="search-actions">
                            <button type="submit" class="btn-primary">Buscar</button>
                            <button type="button" id="btnLimpiarBusqueda" class="btn-secondary">Limpiar</button>
                        </div>
                    </form>
                    <div id="estadoBusqueda" class="status-message" hidden></div>

                    <div class="table-wrapper">
                        <table class="admin-table" id="tablaAlumnos">
                            <thead>
                            <tr>
                                <th>C√≥digo</th>
                                <th>Nombre completo</th>
                                <th>DNI</th>
                                <th>Correo institucional</th>
                                <th>Correo personal</th>
                                <th>Tel√©fono</th>
                                <th>A√±o ingreso</th>
                                <th>Ciclo actual</th>
                                <th>Turno/Prioridad</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="skeleton-row" aria-hidden="true">
                                <td colspan="9">Cargando alumnos...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </article>

                <article class="panel shadow" id="fichaAlumno">
                    <div class="panel-header">
                        <h3>Ficha del alumno</h3>
                        <span class="badge" id="estadoAlumno">-</span>
                    </div>
                    <div class="ficha">
                        <div class="avatar">üë§</div>
                        <div class="ficha__data">
                            <p class="ficha__titulo" id="nombreAlumno">Selecciona un alumno</p>
                            <p class="muted" id="codigoAlumno">-</p>
                            <div class="ficha__grid">
                                <div>
                                    <p class="label">Carrera</p>
                                    <p id="carreraAlumno">-</p>
                                </div>
                                <div>
                                    <p class="label">Ciclo actual</p>
                                    <p id="cicloAlumno">-</p>
                                </div>
                                <div>
                                    <p class="label">A√±o de ingreso</p>
                                    <p id="ingresoAlumno">-</p>
                                </div>
                                <div>
                                    <p class="label">Correo institucional</p>
                                    <p id="correoInstitucionalAlumno">-</p>
                                </div>
                                <div>
                                    <p class="label">Correo personal</p>
                                    <p id="correoPersonalAlumno">-</p>
                                </div>
                                <div>
                                    <p class="label">Tel√©fono</p>
                                    <p id="telefonoAlumno">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel-divider"></div>

                    <form id="formContactoAlumno" class="contact-form">
                        <h4>Datos de contacto</h4>
                        <div class="form-row">
                            <div class="form-field">
                                <label for="correoPersonalInput">Correo personal</label>
                                <input type="email" id="correoPersonalInput" name="correoPersonal" disabled>
                            </div>
                            <div class="form-field">
                                <label for="telefonoInput">Tel√©fono (9 d√≠gitos)</label>
                                <input type="tel" id="telefonoInput" name="telefono" pattern="\\d{9}" maxlength="9" disabled>
                            </div>
                            <div class="form-field">
                                <label for="direccionInput">Direcci√≥n</label>
                                <input type="text" id="direccionInput" name="direccion" disabled>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" id="btnEditarContacto" class="btn-secondary">Editar datos de contacto</button>
                            <button type="submit" id="btnGuardarContacto" class="btn-primary" disabled>Guardar</button>
                        </div>
                        <p id="estadoContacto" class="status-message" hidden></p>
                    </form>
                </article>

                <article class="panel shadow" id="detalleAcademico">
                    <div class="panel-header">
                        <h3>Detalle acad√©mico</h3>
                        <div class="form-field compact">
                            <label for="selectorCiclo">Ciclo</label>
                            <select id="selectorCiclo"></select>
                        </div>
                    </div>

                    <div class="table-wrapper">
                        <table class="admin-table" id="tablaCursosMatriculados">
                            <thead>
                            <tr>
                                <th>C√≥digo secci√≥n</th>
                                <th>Curso</th>
                                <th>Docente</th>
                                <th>Cr√©ditos</th>
                                <th>Horas</th>
                                <th>Modalidad</th>
                                <th>Aula</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="skeleton-row" aria-hidden="true">
                                <td colspan="7">Selecciona un alumno para ver sus cursos</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="resumen-grid">
                        <div class="resumen-card">
                            <p class="label">Total cursos</p>
                            <p id="totalCursos">-</p>
                        </div>
                        <div class="resumen-card">
                            <p class="label">Cr√©ditos</p>
                            <p id="totalCreditos">-</p>
                        </div>
                        <div class="resumen-card">
                            <p class="label">Horas semanales</p>
                            <p id="totalHoras">-</p>
                        </div>
                        <div class="resumen-card">
                            <p class="label">Monto estimado</p>
                            <p id="montoEstimado">-</p>
                        </div>
                    </div>

                    <div class="historial">
                        <div class="historial__header">
                            <h4>Historial de matr√≠culas</h4>
                            <span class="muted" id="subtituloHistorial">-</span>
                        </div>
                        <div id="contenedorHistorial" class="historial__items">
                            <p class="muted">Sin registros</p>
                        </div>
                    </div>
                </article>
            </div>
        </section>

        <!-- DOCENTES -->
        <section id="docentes" class="admin-section">
            <h2>Mantenimiento de Docentes</h2>
            <form class="admin-form docentes">
                <input type="hidden" name="action" value="save">
                <label>C√≥digo:</label><input type="text" name="codigo_docente" required>
                <label>Apellidos:</label><input type="text" name="apellidos_docente" required>
                <label>Nombres:</label><input type="text" name="nombres_docente" required>
                <label>DNI:</label><input type="text" name="dni_docente" pattern="[0-9]{8}" required>
                <label>Direcci√≥n:</label><input type="text" name="direccion_docente">
                <label>Correo:</label><input type="email" name="correo_docente">
                <label>Tel√©fono:</label><input type="tel" name="telefono_docente">
                <label>Estado:</label>
                <select name="estado_docente">
                    <option>Activo</option>
                    <option>Inactivo</option>
                </select>
                <button type="submit">Agregar/Actualizar</button>
            </form>

            <div class="search-container">
                <input class="search-input" type="text" placeholder="C√≥digo, nombre o DNI">
                <button class="search-button">Buscar</button>
                <button type="button" id="btnLimpiarDocentes" class="clear-button">Limpiar</button>
            </div>

            <table class="admin-table" id="docentes-table">
                <tr>
                    <th>C√≥digo</th><th>Apellidos</th><th>Nombres</th><th>DNI</th>
                    <th>Direcci√≥n</th><th>Correo</th><th>Tel√©fono</th><th>Estado</th><th>Acciones</th>
                </tr>
                <!-- Aqu√≠ se insertar√°n din√°micamente los docentes desde el backend -->
            </table>
        </section>
    </main>
</div>

<script src="/js/portal_admin.js"></script>
</body>
</html>
