<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión</title>

    <link rel="stylesheet" th:href="@{/css/index.css}">
    <script src="/js/login.js" defer></script>
</head>

<body>

<div class="login-page">

    <!-- MITAD IZQUIERDA — Imagen -->
    <div class="login-image">
        <img th:src="@{/img/login_bg.jpg}" alt="Imagen de fondo">
    </div>

    <!-- MITAD DERECHA — FORMULARIOS -->
    <div class="forms-wrapper">

        <!-- ======================================================
             FORM 1 — LOGIN
        ======================================================= -->
        <div id="form-login" class="form-box">
            <form class="login-form" th:action="@{/procesar-login}" method="post">

                <h1>Iniciar Sesión</h1>

                <div th:if="${param.error}" style="color:red; text-align:center;">
                    Usuario o contraseña incorrectos.
                </div>

                <div th:if="${param.logout}" style="color:green; text-align:center;">
                    Sesión cerrada correctamente.
                </div>

                <label>Correo institucional</label>
                <input type="text" id="username" name="username" required>

                <label>Contraseña</label>
                <input type="password" id="password" name="password" required>

                <button type="submit">Ingresar</button>

                <p id="link-validar" class="olvide">¿Olvidaste tu contraseña?</p>
            </form>
        </div>

        <!-- ======================================================
             FORM 2 — VERIFICACIÓN
        ======================================================= -->
        <div id="form-verificacion" class="form-box hidden">

            <h2>Verificar identidad</h2>

            <label>DNI</label>
            <input type="text" id="dni" maxlength="8">

            <label>Código institucional</label>
            <input type="text" id="codigo">

            <label>Correo institucional</label>
            <input type="email" id="correoVerif">

            <label>Nombres y apellidos</label>
            <input type="text" id="nombresCompletos">

            <button id="btn-validar">Validar identidad</button>

            <p class="volver" id="volver-login">Volver al login</p>
        </div>

        <!-- ======================================================
             FORM 3 — NUEVA CONTRASEÑA
        ======================================================= -->
        <div id="form-password" class="form-box hidden">

            <h2>Restablecer contraseña</h2>

            <label>Nueva contraseña</label>
            <input type="password" id="newPass">

            <label>Confirmar contraseña</label>
            <input type="password" id="confirmPass">

            <button id="btn-guardar-pass">Guardar contraseña</button>

            <p class="volver" id="volver-verificacion">Volver</p>
        </div>

    </div> <!-- /forms-wrapper -->

</div>

</body>
</html>
